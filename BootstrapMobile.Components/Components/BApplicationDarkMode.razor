@using BootstrapMobile.Components.JsInterop
@inject DarkModeService DarkmodeService

@implements IDisposable

<HeadContent>
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="@DarkmodeService.ThemeColor">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="msapplication-TileColor" content="@DarkmodeService.ThemeColor">
    <meta name="theme-color" content="@DarkmodeService.ThemeColor">
</HeadContent>

@code {
    protected override async Task OnInitializedAsync()
    {
        DarkmodeService.OnToggleDarkmode += StateHasChanged;

        await DarkmodeService.SetThemeColor();
    }

    public void Dispose()
    {
        DarkmodeService.OnToggleDarkmode -= StateHasChanged;
    }
}
